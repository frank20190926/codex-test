<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"油基二号"深水导管架数字孪生健康管理系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- 引入1024×768优化样式 -->
    <link rel="stylesheet" href="css/responsive-1024.css">
    <style>
        :root {
            --primary-blue: #0ea5e9;
            --secondary-blue: #0284c7;
            --accent-cyan: #06b6d4;
            --success-green: #059669;
            --warning-yellow: #d97706;
            --danger-red: #dc2626;
            --dark-bg: #0f172a;
            --darker-bg: #020617;
            --card-bg: rgba(30, 41, 59, 0.9);
            --glass-bg: rgba(15, 23, 42, 0.7);
            --border-color: rgba(148, 163, 184, 0.3);
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --industrial-orange: #ea580c;
            --industrial-teal: #0d9488;
            --steel-blue: #475569;
            --neon-blue: #00d4ff;
            --neon-green: #00ff88;
        }
        
        body {
            font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }
        
        /* 自定义滚动条样式 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.3);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #0066cc, #004d99);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #0080ff, #0066cc);
        }
        
        /* 数据条动画 */
        .data-bar {
            transition: width 0.8s ease-in-out;
        }
        
        /* 卡片阴影效果 */
        .glass-card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(51, 65, 85, 0.3);
        }
        
        /* 状态指示器 */
        .status-indicator {
            position: relative;
            display: inline-block;
        }
        
        .status-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -12px;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }
        
        .status-normal::before {
            background: var(--neon-green);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.6), inset 0 0 5px rgba(255, 255, 255, 0.3);
        }
        
        .status-warning::before {
            background: var(--warning-yellow);
            box-shadow: 0 0 15px rgba(217, 119, 6, 0.6), inset 0 0 5px rgba(255, 255, 255, 0.3);
            animation: warning-pulse 2s infinite;
        }
        
        .status-danger::before {
            background: var(--danger-red);
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.8), inset 0 0 5px rgba(255, 255, 255, 0.3);
            animation: danger-pulse 1s infinite;
        }
        
        @keyframes warning-pulse {
            0%, 100% { 
                opacity: 1; 
                transform: translateY(-50%) scale(1);
                box-shadow: 0 0 15px rgba(217, 119, 6, 0.6), inset 0 0 5px rgba(255, 255, 255, 0.3);
            }
            50% { 
                opacity: 0.7; 
                transform: translateY(-50%) scale(1.1);
                box-shadow: 0 0 25px rgba(217, 119, 6, 0.8), inset 0 0 8px rgba(255, 255, 255, 0.5);
            }
        }
        
        @keyframes danger-pulse {
            0%, 100% { 
                opacity: 1; 
                transform: translateY(-50%) scale(1);
                box-shadow: 0 0 20px rgba(220, 38, 38, 0.8), inset 0 0 5px rgba(255, 255, 255, 0.3);
            }
            50% { 
                opacity: 0.6; 
                transform: translateY(-50%) scale(1.2);
                box-shadow: 0 0 30px rgba(220, 38, 38, 1), inset 0 0 10px rgba(255, 255, 255, 0.6);
            }
        }
        
        /* 工业风格的扫描线效果 */
        .scan-line {
            position: relative;
            overflow: hidden;
        }
        
        .scan-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
            animation: scan 3s infinite;
            z-index: 1;
        }
        
        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* 数据流动效果 */
        .data-flow {
            position: relative;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 212, 255, 0.1) 50%, transparent 70%);
            background-size: 20px 20px;
            animation: flow 2s linear infinite;
        }
        
        @keyframes flow {
            0% { background-position: 0 0; }
            100% { background-position: 20px 20px; }
        }
        
        /* 工业边框效果 */
        .industrial-border {
            position: relative;
            border: 2px solid var(--steel-blue);
        }
        
        .industrial-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-blue), var(--industrial-teal), var(--neon-blue));
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .industrial-border:hover::before {
            opacity: 0.3;
        }

        /* 响应式设计 */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .top-bar {
                padding: 0.75rem 1rem;
            }
            
            .page-title {
                font-size: 1.5rem;
            }
            
            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .data-table {
                min-width: 800px;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .status-stats {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .status-item {
                justify-content: space-between;
                padding: 0.75rem;
            }
        }

        @media (max-width: 640px) {
            .top-bar {
                flex-direction: column;
                gap: 0.5rem;
                align-items: flex-start;
            }
            
            .status-indicators {
                width: 100%;
                justify-content: space-between;
            }
            
            .glass-card {
                padding: 1rem;
            }
            
            .stat-card {
                padding: 1rem;
            }
            
            .chart-container {
                height: 200px;
            }
        }

        /* 移动端菜单按钮 */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1000;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.5rem;
            color: var(--text-primary);
            backdrop-filter: blur(10px);
        }

        @media (max-width: 1024px) {
            .mobile-menu-btn {
                display: block;
            }
        }

        /* 移动端优化的表格 */
        @media (max-width: 768px) {
            .data-table thead {
                display: none;
            }
            
            .data-table tbody tr {
                display: block;
                margin-bottom: 1rem;
                background: var(--card-bg);
                border-radius: 0.5rem;
                padding: 1rem;
                border: 1px solid var(--border-color);
            }
            
            .data-table tbody td {
                display: block;
                padding: 0.25rem 0;
                border: none;
                text-align: left !important;
            }
            
            .data-table tbody td::before {
                content: attr(data-label) ": ";
                font-weight: bold;
                color: var(--text-secondary);
                display: inline-block;
                width: 100px;
            }
        }
        
        /* 悬浮效果 */
        .hover-lift {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 102, 204, 0.2);
        }
        
        /* 渐变文字 */
        .gradient-text {
            background: linear-gradient(135deg, #0066cc, #ff6b35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* 数据网格 */
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        /* 响应式表格 */
        @media (max-width: 768px) {
            .responsive-table {
                font-size: 0.875rem;
            }
            .responsive-table th,
            .responsive-table td {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- 移动端菜单按钮 -->
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <div class="flex h-screen bg-slate-900 text-white">
        <!-- 左侧菜单栏 -->
        <aside class="flex flex-col w-72 glass-card transition-all duration-300 border-r border-slate-700">
            <div class="flex items-center justify-center h-20 border-b border-slate-700/50 bg-gradient-to-r from-blue-600/20 to-orange-500/20">
                <div class="flex items-center">
                    <div class="relative">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-blue-400 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold gradient-text whitespace-nowrap">深水导管架</h1>
                        <p class="text-xs text-slate-400">数字孪生监测系统</p>
                    </div>
                </div>
            </div>
            <nav class="flex-1 px-4 py-6 space-y-3 overflow-y-auto">
                <a href="#" class="flex items-center px-4 py-3 text-slate-300 hover:bg-blue-600/20 hover:text-white rounded-lg transition-all duration-200 hover-lift">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
                    <span class="font-medium">系统总览</span>
                    <div class="ml-auto w-2 h-2 bg-green-400 rounded-full"></div>
                </a>
                
                <div class="space-y-2">
                    <button class="w-full flex items-center justify-between px-4 py-3 text-slate-300 hover:bg-blue-600/20 hover:text-white rounded-lg transition-all duration-200">
                        <span class="flex items-center">
                            <div class="relative mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7 2a1 1 0 00-.707.293L2.293 6.293a1 1 0 000 1.414l4 4a1 1 0 001.414-1.414L5.414 8H15a1 1 0 100-2H5.414l2.293-2.293A1 1 0 007 2zm10.707 9.293a1 1 0 00-1.414 0L14.586 13H5a1 1 0 100 2h9.586l-1.707 1.707a1 1 0 101.414 1.414l4-4a1 1 0 000-1.414l-4-4z" clip-rule="evenodd" /></svg>
                                <div class="absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-pulse"></div>
                            </div>
                            <span class="font-medium">实时监测</span>
                        </span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform transition-transform" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                    </button>
                    <div class="pl-8 space-y-2 border-l-2 border-slate-700/50 ml-6">
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg">
                            <span class="status-indicator status-normal pl-3">应力应变</span>
                            <div class="ml-auto text-xs bg-white/20 px-2 py-1 rounded">实时</div>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded-lg transition-all">
                            <span class="status-indicator status-normal pl-3">重量重心</span>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded-lg transition-all">
                            <span class="status-indicator status-warning pl-3">动态响应</span>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded-lg transition-all">
                            <span class="status-indicator status-normal pl-3">位移</span>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded-lg transition-all">
                            <span class="status-indicator status-normal pl-3">倾角</span>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 text-sm text-slate-300 hover:bg-slate-700/50 rounded-lg transition-all">
                            <span class="status-indicator status-normal pl-3">环境</span>
                        </a>
                    </div>
                </div>

                <a href="#" class="flex items-center px-4 py-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm0 14V4h12v12H4zm2-6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 4a1 1 0 100-2h4a1 1 0 100 2H7z" clip-rule="evenodd" /></svg>
                    阴极保护
                </a>
                 <a href="#" class="flex items-center justify-between px-4 py-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md">
                    <span class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.414-1.415L11 9.586V6z" clip-rule="evenodd" /></svg>
                        历史查询
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                </a>
                 <a href="#" class="flex items-center px-4 py-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M10 2a6 6 0 00-6 6v3.586l-1.707 1.707A1 1 0 003 15v1a1 1 0 001 1h12a1 1 0 001-1v-1a1 1 0 00-.293-.707L16 11.586V8a6 6 0 00-6-6zM8.05 16a2 2 0 103.9 0H8.05z" /></svg>
                    预警信息
                </a>
                <a href="#" class="flex items-center justify-between px-4 py-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md">
                    <span class="flex items-center">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z" /></svg>
                        传感器管理
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                </a>
            </nav>
            <div class="border-t border-gray-700 p-4">
                 <a href="#" class="flex items-center px-4 py-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.532 1.532 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.532 1.532 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
                    预警配置
                </a>
            </div>
        </aside>

        <!-- 主内容区 -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- 顶部导航栏 -->
            <header class="flex items-center justify-between h-20 px-8 bg-white border-b border-gray-200">
                <div class="text-gray-600">
                    <span class="text-sm">页面路径 /</span>
                    <span class="text-sm font-semibold text-gray-800">实时监测 / 应力应变</span>
                </div>
                <div class="flex items-center space-x-6">
                    <button class="text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
                    </button>
                    <div class="flex items-center">
                        <img class="h-10 w-10 rounded-full object-cover" src="https://placehold.co/100x100/6366f1/white?text=A" alt="User avatar">
                        <div class="ml-3">
                            <p class="text-sm font-semibold text-gray-800">Admin</p>
                            <p class="text-xs text-gray-500">管理员</p>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 核心内容 -->
            <main class="flex-1 p-8 overflow-y-auto">
                <div class="max-w-7xl mx-auto">
                    <!-- 页面标题 -->
                    <div class="mb-8">
                        <h1 class="text-3xl font-bold gradient-text mb-2">应力应变监测</h1>
                        <p class="text-slate-400">实时监测深水导管架结构应力应变状态</p>
                    </div>

                    <!-- 统计卡片 -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="glass-card p-6 hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-slate-400">最大应力</p>
                                    <p class="text-2xl font-bold text-white">245.6 MPa</p>
                                </div>
                                <div class="p-3 bg-red-500/20 rounded-lg">
                                    <svg class="w-6 h-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <div class="data-bar bg-red-500/30 h-2 rounded-full flex-1 mr-3">
                                    <div class="data-bar-fill bg-red-500 h-full rounded-full" style="width: 82%"></div>
                                </div>
                                <span class="text-red-400 text-sm font-medium">+12.5%</span>
                            </div>
                            <span class="text-slate-400 text-xs">较昨日</span>
                        </div>

                        <div class="glass-card p-6 hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-slate-400">平均应变</p>
                                    <p class="text-2xl font-bold text-white">0.0012</p>
                                </div>
                                <div class="p-3 bg-blue-500/20 rounded-lg">
                                    <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <div class="data-bar bg-blue-500/30 h-2 rounded-full flex-1 mr-3">
                                    <div class="data-bar-fill bg-blue-500 h-full rounded-full" style="width: 65%"></div>
                                </div>
                                <span class="text-green-400 text-sm font-medium">-2.1%</span>
                            </div>
                            <span class="text-slate-400 text-xs">较昨日</span>
                        </div>

                        <div class="glass-card p-6 hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-slate-400">监测点数</p>
                                    <p class="text-2xl font-bold text-white">128</p>
                                </div>
                                <div class="p-3 bg-green-500/20 rounded-lg">
                                    <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <div class="data-bar bg-green-500/30 h-2 rounded-full flex-1 mr-3">
                                    <div class="data-bar-fill bg-green-500 h-full rounded-full" style="width: 100%"></div>
                                </div>
                                <span class="text-green-400 text-sm font-medium">100%</span>
                            </div>
                            <span class="text-slate-400 text-xs">在线率</span>
                        </div>

                        <div class="glass-card p-6 hover-lift">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-slate-400">安全系数</p>
                                    <p class="text-2xl font-bold text-white">2.45</p>
                                </div>
                                <div class="p-3 bg-yellow-500/20 rounded-lg">
                                    <svg class="w-6 h-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <div class="data-bar bg-yellow-500/30 h-2 rounded-full flex-1 mr-3">
                                    <div class="data-bar-fill bg-yellow-500 h-full rounded-full" style="width: 75%"></div>
                                </div>
                                <span class="text-yellow-400 text-sm font-medium">注意</span>
                            </div>
                            <span class="text-slate-400 text-xs">监控中</span>
                        </div>
                    </div>

                     <!-- 实时数据可视化 -->
                     <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                         <!-- 应力趋势图 -->
                         <div class="glass-card p-6">
                             <div class="flex items-center justify-between mb-4">
                                 <h3 class="text-lg font-semibold text-white">应力趋势</h3>
                                 <div class="flex items-center space-x-2">
                                     <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></div>
                                     <span class="text-sm text-slate-400">实时</span>
                                 </div>
                             </div>
                             <div class="h-64 relative">
                                 <canvas id="stressChart" class="w-full h-full"></canvas>
                             </div>
                         </div>

                         <!-- 监测点状态分布 -->
                         <div class="glass-card p-6">
                             <div class="flex items-center justify-between mb-4">
                                 <h3 class="text-lg font-semibold text-white">监测点状态</h3>
                                 <button class="text-sm text-blue-400 hover:text-blue-300">查看详情</button>
                             </div>
                             <div class="h-64 flex items-center justify-center">
                                 <div class="relative w-48 h-48">
                                     <canvas id="statusChart" class="w-full h-full"></canvas>
                                     <div class="absolute inset-0 flex items-center justify-center">
                                         <div class="text-center">
                                             <div class="text-2xl font-bold text-white">128</div>
                                             <div class="text-sm text-slate-400">总监测点</div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                             <div class="mt-4 grid grid-cols-3 gap-4 text-center">
                                 <div>
                                     <div class="flex items-center justify-center mb-1">
                                         <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                         <span class="text-sm text-slate-300">正常</span>
                                     </div>
                                     <div class="text-lg font-semibold text-white">115</div>
                                 </div>
                                 <div>
                                     <div class="flex items-center justify-center mb-1">
                                         <div class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></div>
                                         <span class="text-sm text-slate-300">注意</span>
                                     </div>
                                     <div class="text-lg font-semibold text-white">11</div>
                                 </div>
                                 <div>
                                     <div class="flex items-center justify-center mb-1">
                                         <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                                         <span class="text-sm text-slate-300">警告</span>
                                     </div>
                                     <div class="text-lg font-semibold text-white">2</div>
                                 </div>
                             </div>
                         </div>
                     </div>

                     <!-- 数据表格 -->
                    <div class="glass-card overflow-hidden">
                        <div class="px-6 py-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-800/50 to-slate-700/30">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-white">实时监测数据</h3>
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                        <span class="text-sm text-slate-300">实时更新</span>
                                    </div>
                                    <button class="px-3 py-1 bg-blue-600/20 text-blue-400 rounded-lg text-sm hover:bg-blue-600/30 transition-colors">
                                        导出数据
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                             <table class="min-w-full">
                                 <thead>
                                     <tr class="bg-gradient-to-r from-slate-800/80 to-slate-700/60">
                                         <th class="px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">
                                             <div class="flex items-center space-x-2">
                                                 <span>测点名称</span>
                                                 <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                                                 </svg>
                                             </div>
                                         </th>
                                         <th class="px-6 py-4 text-left text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">传感器名称</th>
                                         <th class="px-6 py-4 text-right text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">应变值(με)</th>
                                         <th class="px-6 py-4 text-right text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">轴力</th>
                                         <th class="px-6 py-4 text-right text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">弯矩MC(kN·m)</th>
                                         <th class="px-6 py-4 text-right text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">弯矩MY(kN·m)</th>
                                         <th class="px-6 py-4 text-center text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">采集时间</th>
                                         <th class="px-6 py-4 text-center text-xs font-semibold text-slate-300 uppercase tracking-wider border-b border-slate-700/50">操作</th>
                                     </tr>
                                 </thead>
                                 <tbody id="data-table-body" class="divide-y divide-slate-700/30">
                                     <!-- 数据行将由JS动态生成 -->
                                 </tbody>
                             </table>
                         </div>
                         <div class="px-6 py-4 bg-slate-800/30 border-t border-slate-700/50">
                             <div class="flex items-center justify-between">
                                 <div class="text-sm text-slate-400">
                                     显示数据更新中...
                                 </div>
                                 <div class="flex items-center space-x-2">
                                     <button class="px-3 py-1 bg-slate-700/50 text-slate-300 rounded hover:bg-slate-700 transition-colors">刷新数据</button>
                                     <button class="px-3 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 transition-colors">实时模式</button>
                                 </div>
                             </div>
                         </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // 初始化图表
    let stressChart, statusChart;
    
    function initCharts() {
        // 应力趋势图
        const stressCtx = document.getElementById('stressChart').getContext('2d');
        stressChart = new Chart(stressCtx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: '最大应力',
                    data: [],
                    borderColor: '#ef4444',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: '平均应力',
                    data: [],
                    borderColor: '#3b82f6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#e2e8f0'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: '#94a3b8' },
                        grid: { color: 'rgba(148, 163, 184, 0.1)' }
                    },
                    y: {
                        ticks: { color: '#94a3b8' },
                        grid: { color: 'rgba(148, 163, 184, 0.1)' }
                    }
                }
            }
        });

        // 状态分布饼图
        const statusCtx = document.getElementById('statusChart').getContext('2d');
        statusChart = new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['正常', '注意', '警告'],
                datasets: [{
                    data: [115, 11, 2],
                    backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    }

    // 更新图表数据
    function updateCharts() {
        const now = new Date();
        const timeLabel = now.toLocaleTimeString();
        
        // 更新应力趋势图
        if (stressChart.data.labels.length >= 10) {
            stressChart.data.labels.shift();
            stressChart.data.datasets[0].data.shift();
            stressChart.data.datasets[1].data.shift();
        }
        
        stressChart.data.labels.push(timeLabel);
        stressChart.data.datasets[0].data.push(200 + Math.random() * 100);
        stressChart.data.datasets[1].data.push(150 + Math.random() * 50);
        stressChart.update('none');
        
        // 更新状态分布
        const normal = 115 + Math.floor(Math.random() * 10 - 5);
        const warning = 11 + Math.floor(Math.random() * 6 - 3);
        const danger = 2 + Math.floor(Math.random() * 4 - 2);
        
        statusChart.data.datasets[0].data = [normal, warning, danger];
        statusChart.update('none');
    }

    const tableData = [
        {测点: 'SS1', 传感器: 'SS1-1', 应变值: -601.557, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS1', 传感器: 'SS1-2', 应变值: 1690.189, 轴力: -2.691, MC: -8391001.228, MY: -2916537.653, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS1', 传感器: 'SS1-3', 应变值: 558.626, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS1', 传感器: 'SS1-4', 应变值: -1647.707, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        
        {测点: 'SS2', 传感器: 'SS2-1', 应变值: 1806.286, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS2', 传感器: 'SS2-2', 应变值: -610.389, 轴力: 6925.254, MC: -1831327.060, MY: 94845.771, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS2', 传感器: 'SS2-3', 应变值: 1761.553, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS2', 传感器: 'SS2-4', 应变值: -1474.124, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},

        {测点: 'SS3', 传感器: 'SS3-1', 应变值: 921.883, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS3', 传感器: 'SS3-2', 应变值: 457.691, 轴力: 4729.188, MC: 3471286.770, MY: 8772422.493, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS3', 传感器: 'SS3-3', 应变值: -2185.152, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS3', 传感器: 'SS3-4', 应变值: 1687.158, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},

        {测点: 'SS4', 传感器: 'SS4-1', 应变值: 203.340, 轴力: null, MC: null, MY: null, 时间: '2024-04-09 10:44:03'},
        {测点: 'SS4', 传感器: 'SS4-2', 应变值: 2375.659, 轴力: 902.907, MC: 989069.297, MY: 900220.801, 时间: '2024-04-09 10:44:03'},
    ];

    const tbody = document.getElementById('data-table-body');
    const groupedData = tableData.reduce((acc, row) => {
        if (!acc[row.测点]) {
            acc[row.测点] = [];
        }
        acc[row.测点].push(row);
        return acc;
    }, {});

    const maxStrain = Math.max(...tableData.map(d => Math.abs(d.应变值)));

    for (const groupName in groupedData) {
        const groupRows = groupedData[groupName];
        groupRows.forEach((rowData, index) => {
            const tr = document.createElement('tr');
            tr.className = 'bg-white border-b hover:bg-blue-50';

            // 测点名称 (带 rowspan)
            if (index === 0) {
                const td测点 = document.createElement('td');
                td测点.rowSpan = groupRows.length;
                td测点.className = 'px-6 py-4 font-medium text-gray-900 align-middle';
                td测点.textContent = groupName;
                tr.appendChild(td测点);
            }

            // 传感器名称
            const td传感器 = document.createElement('td');
            td传感器.className = 'px-6 py-4';
            td传感器.textContent = rowData.传感器;
            tr.appendChild(td传感器);
            
            // 应变值 (带数据条)
            const td应变值 = document.createElement('td');
            td应变值.className = 'px-6 py-4 text-right';
            const strainValue = rowData.应变值;
            const barWidth = (Math.abs(strainValue) / maxStrain) * 100;
            const barColor = strainValue >= 0 ? 'bg-blue-400' : 'bg-orange-400';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'flex items-center justify-end';
            
            const textSpan = document.createElement('span');
            textSpan.className = 'w-24 text-right';
            textSpan.textContent = strainValue.toFixed(3);
            
            const barContainer = document.createElement('div');
            barContainer.className = 'w-24 h-4 ml-4 bg-gray-200 rounded-sm overflow-hidden';
            const barDiv = document.createElement('div');
            barDiv.className = `h-full ${barColor}`;
            barDiv.style.width = `${barWidth}%`;
            
            barContainer.appendChild(barDiv);
            contentDiv.appendChild(textSpan);
            contentDiv.appendChild(barContainer);
            td应变值.appendChild(contentDiv);
            tr.appendChild(td应变值);

            // 轴力、MC、MY、时间 (带 rowspan)
            if (index === 0 && (rowData.轴力 != null || rowData.MC != null || rowData.MY != null)) {
                 const hasMergedData = groupRows.some(r => r.轴力 != null || r.MC != null || r.MY != null);
                const firstRowWithData = groupRows.find(r => r.轴力 != null);
                if (hasMergedData) {
                    const rowSpanLength = groupRows.length;
                     tr.innerHTML = tr.innerHTML.replace(`</tr>`,``);
                    ['轴力', 'MC', 'MY', '时间'].forEach(key => {
                        const td = document.createElement('td');
                        td.rowSpan = rowSpanLength;
                        td.className = 'px-6 py-4 align-middle text-right';
                        const value = firstRowWithData[key];
                        if (key === '时间') {
                            td.className += ' text-center';
                            td.textContent = value;
                        } else {
                            td.textContent = value != null ? (typeof value === 'number' ? value.toFixed(3) : value) : '—';
                        }
                         tr.appendChild(td);
                    });
                }
            } else if (index !== 0 && (groupRows[0].轴力 != null || groupRows[0].MC != null || groupRows[0].MY != null)) {
                // For other rows in a group with merged data, these cells are omitted
            } else {
                // For groups without merged data, or rows that have unique data
                ['轴力', 'MC', 'MY', '时间'].forEach(key => {
                    const td = document.createElement('td');
                    td.className = 'px-6 py-4 text-right';
                    const value = rowData[key];
                     if (key === '时间') {
                        td.className += ' text-center';
                        td.textContent = value;
                    } else {
                        td.textContent = value != null ? (typeof value === 'number' ? value.toFixed(3) : value) : '—';
                    }
                    tr.appendChild(td);
                });
            }

            tbody.appendChild(tr);
        });
    }

    // A bit of a hack to fix the rowspan logic for the main merged data.
    // The previous script had trouble placing rowspan correctly due to dynamic row creation.
    // This part will find the correct row to attach the merged data to.
    for (const groupName in groupedData) {
         const groupRows = groupedData[groupName];
         const firstRowWithData = groupRows.find(r => r.轴力 != null);
         if(firstRowWithData) {
            const firstRowElement = Array.from(tbody.children).find(tr => tr.querySelector('td')?.textContent === groupName);
            const targetRowElement = Array.from(tbody.children).find(tr => tr.cells[1]?.textContent === firstRowWithData.传感器);
            
            if(firstRowElement && targetRowElement){
                // remove existing empty cells
                Array.from(targetRowElement.cells).forEach((cell, i) => {
                    if (i > 2) cell.remove();
                });
                
                ['轴力', 'MC', 'MY', '时间'].forEach(key => {
                    const td = document.createElement('td');
                    td.rowSpan = groupRows.length;
                    td.className = 'px-6 py-4 align-middle text-right';
                    const value = firstRowWithData[key];
                    if (key === '时间') {
                        td.className += ' text-center';
                        td.textContent = value;
                    } else {
                        td.textContent = value != null ? (typeof value === 'number' ? value.toFixed(3) : value) : '—';
                    }
                    targetRowElement.appendChild(td);
                });
            }
         }
    }

    // 移动端菜单切换
    window.toggleMobileMenu = function() {
        const sidebar = document.querySelector('.sidebar');
        sidebar.classList.toggle('mobile-open');
    };

    // 为移动端表格添加数据标签
    function addMobileTableLabels() {
        const table = document.querySelector('.data-table');
        if (table) {
            const headers = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent.trim());
            const rows = table.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                cells.forEach((cell, index) => {
                    if (headers[index]) {
                        cell.setAttribute('data-label', headers[index]);
                    }
                });
            });
        }
    }

    // 初始化图表
    setTimeout(() => {
        initCharts();
        addMobileTableLabels();
    }, 100);
    
    // 定时更新图表数据
    setInterval(() => {
        if (stressChart && statusChart) {
            updateCharts();
        }
    }, 3000);

    // 响应式处理
    window.addEventListener('resize', function() {
        if (window.innerWidth > 1024) {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.remove('mobile-open');
        }
    });

    // 1024×768适配优化
    function optimizeFor1024() {
        // 添加响应式class
        const containers = document.querySelectorAll('.bg-slate-900, .bg-white');
        containers.forEach(el => {
            if (el.classList.contains('p-6')) {
                el.classList.add('card');
            }
        });

        // 为表格添加响应式class
        const tables = document.querySelectorAll('table');
        tables.forEach(table => {
            if (!table.parentElement.classList.contains('table-responsive')) {
                const wrapper = document.createElement('div');
                wrapper.classList.add('table-responsive');
                table.parentNode.insertBefore(wrapper, table);
                wrapper.appendChild(table);
            }
        });

        // 检查是否为1024×768分辨率
        if (window.innerWidth <= 1024 && window.innerHeight <= 768) {
            document.body.classList.add('compact-mode');
        }
    }

    // 页面加载完成后执行优化
    optimizeFor1024();

    // 窗口大小改变时重新检查
    window.addEventListener('resize', () => {
        if (window.innerWidth <= 1024 && window.innerHeight <= 768) {
            document.body.classList.add('compact-mode');
        } else {
            document.body.classList.remove('compact-mode');
        }
    });
});
</script>

</body>
</html>
